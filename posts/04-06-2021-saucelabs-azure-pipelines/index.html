<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Overview of Saucelabs For those of you that don&amp;rsquo;t know, within the QA Automation world there are many tools in which we can leverage to distribute and run our Selenium tests on. One popular tool that I&amp;rsquo;ve used in the market is Saucelabs. While it is entirely possible to utilize your CI job&amp;rsquo;s resources to run these tests, one thing that made using Saucelabs very appealing to me was the ability to actually view video playback of your test in action." />
<meta name="keywords" content=", saucelabs, azure pipelines, cicd, qa automation, azure devops, azure, microsoft" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://ssulei7.github.io/posts/04-06-2021-saucelabs-azure-pipelines/" />

<meta name="google-site-verification" content="EOhH-AmMwK4-WpUY4OjX7iouxFWCi7QmgzKfl73qnxs" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-F7PBY6WVCB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-F7PBY6WVCB');
</script>


    <title>
        
            How I embed Saucelab Build Videos into Azure Pipelines :: Sully Squared  — A blog maintained by Sully Suleiman
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.559c11c353d977c72bfa364708d81343a35654a99d1d1249c7e2e9210afb111e.css">






<meta itemprop="name" content="How I embed Saucelab Build Videos into Azure Pipelines">
<meta itemprop="description" content="Overview of Saucelabs For those of you that don&rsquo;t know, within the QA Automation world there are many tools in which we can leverage to distribute and run our Selenium tests on. One popular tool that I&rsquo;ve used in the market is Saucelabs. While it is entirely possible to utilize your CI job&rsquo;s resources to run these tests, one thing that made using Saucelabs very appealing to me was the ability to actually view video playback of your test in action."><meta itemprop="datePublished" content="2021-04-06T13:16:49-05:00" />
<meta itemprop="dateModified" content="2021-04-06T13:16:49-05:00" />
<meta itemprop="wordCount" content="1939"><meta itemprop="image" content="https://ssulei7.github.io"/>
<meta itemprop="keywords" content="saucelabs,azure pipelines,cicd,qa automation,azure devops,azure,microsoft," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://ssulei7.github.io"/>

<meta name="twitter:title" content="How I embed Saucelab Build Videos into Azure Pipelines"/>
<meta name="twitter:description" content="Overview of Saucelabs For those of you that don&rsquo;t know, within the QA Automation world there are many tools in which we can leverage to distribute and run our Selenium tests on. One popular tool that I&rsquo;ve used in the market is Saucelabs. While it is entirely possible to utilize your CI job&rsquo;s resources to run these tests, one thing that made using Saucelabs very appealing to me was the ability to actually view video playback of your test in action."/>




    <meta property="og:title" content="How I embed Saucelab Build Videos into Azure Pipelines" />
<meta property="og:description" content="Overview of Saucelabs For those of you that don&rsquo;t know, within the QA Automation world there are many tools in which we can leverage to distribute and run our Selenium tests on. One popular tool that I&rsquo;ve used in the market is Saucelabs. While it is entirely possible to utilize your CI job&rsquo;s resources to run these tests, one thing that made using Saucelabs very appealing to me was the ability to actually view video playback of your test in action." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ssulei7.github.io/posts/04-06-2021-saucelabs-azure-pipelines/" /><meta property="og:image" content="https://ssulei7.github.io"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-06T13:16:49-05:00" />
<meta property="article:modified_time" content="2021-04-06T13:16:49-05:00" /><meta property="og:site_name" content="Sully Squared" />







    <meta property="article:published_time" content="2021-04-06 13:16:49 -0500 -0500" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd home</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/posts">Posts</a></li><li><a href="/tags">Tags</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        10 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://ssulei7.github.io/posts/04-06-2021-saucelabs-azure-pipelines/">How I embed Saucelab Build Videos into Azure Pipelines</a>
      </h1>

      

      

      

      <div class="post-content">
        <h2 id="overview-of-saucelabs">Overview of Saucelabs</h2>
<p>For those of you that don&rsquo;t know, within the QA Automation world there are many tools in which we can leverage to distribute and run our Selenium tests on. One popular tool that I&rsquo;ve used in the market is Saucelabs. While it is entirely possible to utilize your CI job&rsquo;s resources to run these tests, one thing that made using Saucelabs very appealing to me was the ability to actually view video playback of your test in action. This allowed for myself and the rest of the QA Automation team I work with to quickly identify flakiness within our scripts, or clearly identify a defect within the application under test.</p>
<h2 id="saucelabs-and-azure-pipelines">Saucelabs and Azure Pipelines</h2>
<p>Most of the time that I&rsquo;ve used Saucelabs, I was utilizing tools such as Jenkins to execute my jobs and view my results accordingly with Saucelabs own proprietary extensions. In fact, Saucelabs actually offers support for multiple CI platforms (just to name a few):</p>
<ul>
<li><a href="https://wiki.saucelabs.com/display/DOCS/Setting+Up+Sauce+Labs+with+Jenkins">Jenkins</a></li>
<li><a href="https://wiki.saucelabs.com/display/DOCS/Setting+Up+Sauce+Labs+with+Bamboo">Bamboo</a></li>
<li><a href="https://wiki.saucelabs.com/display/DOCS/Setting+Up+Sauce+Labs+with+TeamCity">TeamCity</a></li>
</ul>
<p>They even have an official Azure Pipelines extension as well! The problem, however, is that they actually officially stopped supporting the extension. It also seems that they aren&rsquo;t even considering maintaining it, and encouraging me to comment on a thread that I highly doubt their product or engineering team is even taking seriously:</p>
<p><img src="./images/rejection.jpg" alt="Rejection"></p>
<p>That&rsquo;s pretty shameful, as Azure Pipelines has grown to be a very appealing CI platform in the last few years. Almost every single client I&rsquo;ve interacted with thus far in my career has transitioned from a particular CI platform, to Azure Pipelines. So since the extension is no longer supported, how can we recreate the functionality their prior extension did? Luckily for us, there&rsquo;s a work around.</p>
<h2 id="saucelabs-html-embedding-capability">Saucelabs HTML Embedding Capability</h2>
<p>Hidden deep within the Saucelabs Documentation, there is a capability that allows for generating custom made HTML reports with videos embedded within them:</p>
<p><a href="https://wiki.saucelabs.com/display/DOCS/Embedding+Test+Results+in+HTML+Pages">Saucelabs Embedded Documentation</a></p>
<p>To quickly summarize this wiki page, there are really three requirements here to generate custom HTML reports:</p>
<ol>
<li>An html file containing a script such as the one below to embed an iframe of your job:</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://app.saucelabs.com/video-embed/YOUR_JOB_ID.js?auth=AUTH_TOKEN&#34;</span>&gt;
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><ol start="2">
<li>
<p>A generated md5 authorization token based on a particular job/test id and your sauce credentials.</p>
</li>
<li>
<p>A test case / job id orginating from a particular build.</p>
</li>
</ol>
<p>Essentially, what we can do with this is generate a static html file via a quick command line application (or within your test automation framework, d on requirements) containing all of the videos of our executed test cases from our job as an artifact within our pipeline by utilizing a html publish task in the AzDO market place: <a href="https://marketplace.visualstudio.com/items?itemName=JakubRumpca.azure-pipelines-html-report">Publish HTML</a>.</p>
<p>With that being said, the example I will be demonstrating in this post is utilizing an API client for Saucelabs I created in Go to retrieve build related information of my test execution in which I generate my reports off of.</p>
<p>Let&rsquo;s get started!</p>
<h2 id="defining-a-build-name-for-your-test-execution-in-saucelabs">Defining a build name for your test execution in Saucelabs</h2>
<p>One important piece of information our test execution needs (on the framework level) is a build execution name. While there are many ways to build out our capabilities for Selenium, here is what I&rsquo;m currently doing within my remote web driver capabilities in my Geb/Spock implementation:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">String sauceUsername <span style="color:#f92672">=</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">getenv</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SAUCE_USER&#34;</span><span style="color:#f92672">)</span>
String sauceAccessKey <span style="color:#f92672">=</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">getenv</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SAUCE_KEY&#34;</span><span style="color:#f92672">)</span>

<span style="color:#75715e">//capabilities
</span><span style="color:#75715e"></span>MutableCapabilities sauceOptions <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MutableCapabilities<span style="color:#f92672">();</span>
sauceOptions<span style="color:#f92672">.</span><span style="color:#a6e22e">setCapability</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;build&#34;</span><span style="color:#f92672">,</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;sauceBuildName&#34;</span><span style="color:#f92672">))</span>
sauceOptions<span style="color:#f92672">.</span><span style="color:#a6e22e">setCapability</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">,</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;testName&#34;</span><span style="color:#f92672">))</span>

ChromeOptions browserOptions <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ChromeOptions<span style="color:#f92672">()</span>
browserOptions<span style="color:#f92672">.</span><span style="color:#a6e22e">setExperimentalOption</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;w3c&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">)</span>
browserOptions<span style="color:#f92672">.</span><span style="color:#a6e22e">setCapability</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;platformName&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Windows 10&#34;</span><span style="color:#f92672">)</span>
browserOptions<span style="color:#f92672">.</span><span style="color:#a6e22e">setCapability</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;browserVersion&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;latest&#34;</span><span style="color:#f92672">)</span>
browserOptions<span style="color:#f92672">.</span><span style="color:#a6e22e">setCapability</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;sauce:options&#34;</span><span style="color:#f92672">,</span> sauceOptions<span style="color:#f92672">)</span>
</code></pre></div><p>Where <code>sauceBuildName</code> is a system property I am forwarding within my gradle execution in my CI:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gradlew test -Xmx3072m -Dgeb.env<span style="color:#f92672">=</span>sauceLabs -Dgeb.build.baseUrl<span style="color:#f92672">=</span>http://www.google.com -Dtest.set<span style="color:#f92672">=</span>Smoke -DsauceBuildName<span style="color:#f92672">=</span>**mybuildname**
</code></pre></div><p>What this will allow me to do is be able to give an identifiable name of my executed build within Saucelabs like this:</p>
<p><img src="./images/buildlistsauce.jpg" alt="Sauce Build List"></p>
<p>Once we have that, we can then utilize my Sauce API Client to retrieve our respective build information.</p>
<h2 id="interfacing-with-the-saucelabs-api-in-go">Interfacing with the Saucelabs API in Go</h2>
<h3 id="prereqs">Prereqs</h3>
<p>Ensure you pull my <a href="https://github.com/ssulei7/saucelabs-client-go">Saucelabs API Client</a> into your go.mod file.</p>
<p>If you never used used dependencies in go, please refer to the official <a href="https://golang.org/doc/modules/managing-dependencies">Golang Documentation</a>.</p>
<p>Be sure to also to view the README.MD file to ensure you can authenticate appropriately into my client library. Here&rsquo;s a quick example of instantiating a new client:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">NewClient</span>(<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_KEY&#34;</span>), <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_USER&#34;</span>), <span style="color:#e6db74">&#34;&#34;</span>)
</code></pre></div><p>Where <code>&quot;&quot;</code> allows for us to use Saucelabs default base URL.</p>
<h3 id="pulling-down--filtering-builds-for-a-particular-user">Pulling down / filtering builds for a particular user</h3>
<p>Once you have the client library pulled down and instantiate a new client, you can then utilize the library to pull all builds and filter by the build name:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">NewClient</span>(<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_KEY&#34;</span>), <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_USER&#34;</span>), <span style="color:#e6db74">&#34;&#34;</span>)
<span style="color:#a6e22e">builds</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">GetBuilds</span>()
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">build</span> <span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">Build</span>
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#75715e">//filter and find the build containing the build name i had within my 
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">builds</span> {
        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">Name</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;MY_BUILD&#34;</span>) {
            <span style="color:#a6e22e">build</span> = <span style="color:#a6e22e">b</span>
            <span style="color:#66d9ef">break</span>
        }
    }
}

<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">build</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#75715e">//our build doesn&#39;t exist within our script, terminate execution
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Exit</span>(<span style="color:#ae81ff">1</span>)
}
</code></pre></div><p>Once we find / validate the appropriate build exists, now we must find all the test case id&rsquo;s that were executed within this build.</p>
<h3 id="finding-particular-test-cases-for-a-build">Finding particular test cases for a build</h3>
<p>To find test cases associated with our build, we can pull down all the jobs that were executed by a particular user:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">jobs</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">GetJobs</span>()

<span style="color:#75715e">//where we will store all filtered jobs
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">myJobs</span> []<span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">Job</span>
</code></pre></div><p>And then we can go ahead and find all the jobs containing our build name and add it to our list:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#75715e">// iterate thru jobs to find those that are within my build
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">job</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">jobs</span> {
        <span style="color:#75715e">//check if the current job contains my build name
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">build</span>.<span style="color:#a6e22e">Name</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">BaseConfig</span>.<span style="color:#a6e22e">SauceOptions</span>.<span style="color:#a6e22e">Build</span> {
            <span style="color:#75715e">//append this current job into my slice
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">myJobs</span> = append(<span style="color:#a6e22e">myJobs</span>, <span style="color:#a6e22e">job</span>)
        }
    }
}
</code></pre></div><h3 id="generating-the-html-report">Generating the HTML Report</h3>
<p>Once we then find all of our job id&rsquo;s, we can then define a function called <code>generateHtml</code> where we can build a simple html file that will:</p>
<ol>
<li>Generate an md5 auth token to view our test case video without the need to login.</li>
<li>Generate Iframes of each test case executed within our build in our html file.</li>
<li>Organize them in a table using a css import of Bootstrap.</li>
</ol>
<p>Our function should look something like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">generateHtml</span>(<span style="color:#a6e22e">sauceKey</span>, <span style="color:#a6e22e">userName</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">jobs</span> <span style="color:#f92672">*</span>[]<span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">Job</span>) {
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">htmlTemplate</span> = <span style="color:#e6db74">`
</span><span style="color:#e6db74">&lt;!DOCTYPE html&gt;
</span><span style="color:#e6db74">&lt;html lang=&#34;en&#34;&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;head&gt;
</span><span style="color:#e6db74">    &lt;meta charset=&#34;UTF-8&#34;&gt;
</span><span style="color:#e6db74">    &lt;meta http-equiv=&#34;X-UA-Compatible&#34; content=&#34;IE=edge&#34;&gt;
</span><span style="color:#e6db74">    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;
</span><span style="color:#e6db74">    &lt;meta charset=&#34;UTF-8&#34;&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    &lt;link href=&#34;https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css&#34; rel=&#34;stylesheet&#34;
</span><span style="color:#e6db74">        integrity=&#34;sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl&#34; crossorigin=&#34;anonymous&#34;&gt;
</span><span style="color:#e6db74">    &lt;title&gt;BuildResults&lt;/title&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;/head&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;body&gt;
</span><span style="color:#e6db74">    &lt;table class=&#34;table table-light table-striped&#34;&gt;
</span><span style="color:#e6db74">        &lt;tr&gt;
</span><span style="color:#e6db74">            &lt;th&gt;Test Case&lt;/th&gt;
</span><span style="color:#e6db74">            &lt;th&gt;Test Case Video&lt;/th&gt;
</span><span style="color:#e6db74">        &lt;/tr&gt;
</span><span style="color:#e6db74">`</span>

<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">job</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">jobs</span> {
    <span style="color:#a6e22e">hashKey</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">generateKey</span>(<span style="color:#a6e22e">sauceKey</span>, <span style="color:#a6e22e">userName</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">ID</span>)
    <span style="color:#a6e22e">scriptString</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(
        <span style="color:#e6db74">`&lt;tr&gt;
</span><span style="color:#e6db74">        &lt;td class=&#34;align-middle&#34;&gt;
</span><span style="color:#e6db74">            %s
</span><span style="color:#e6db74">        &lt;/td&gt;
</span><span style="color:#e6db74">        &lt;td class=&#34;align-middle&#34;&gt;
</span><span style="color:#e6db74">            &lt;div class=&#34;d-flex align-items-center justify-content-center&#34;&gt;
</span><span style="color:#e6db74">                &lt;script
</span><span style="color:#e6db74">                    src=&#34;https://app.saucelabs.com/job-embed/%s.js?auth=%s&#34;&gt;
</span><span style="color:#e6db74">                    &lt;/script&gt;
</span><span style="color:#e6db74">            &lt;/div&gt;
</span><span style="color:#e6db74">        &lt;/td&gt;
</span><span style="color:#e6db74">    &lt;/tr&gt;`</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">BaseConfig</span>.<span style="color:#a6e22e">SauceOptions</span>.<span style="color:#a6e22e">Name</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">ID</span>, <span style="color:#a6e22e">hashKey</span>)

    <span style="color:#a6e22e">htmlTemplate</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">scriptString</span>
}

<span style="color:#a6e22e">htmlTemplate</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">&lt;/tr&gt;
</span><span style="color:#e6db74">&lt;/table&gt;
</span><span style="color:#e6db74">&lt;/body&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;/html&gt;
</span><span style="color:#e6db74">`</span>
</code></pre></div><p>There&rsquo;s a lot going on here, but I will try to explain to the best of my ability. The first thing that we&rsquo;re doing is defining a <code>htmlTemplate</code> variable that contains the beginning our html file as a multi-line string, including:</p>
<ul>
<li>Our head in which we can reference bootstrap css</li>
<li>The beginning of our body, which contains:
<ul>
<li>Our table with the appropriate styling from bootstrap</li>
<li>Our table header names as the first row</li>
</ul>
</li>
</ul>
<p>From there, in the next section of code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">job</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">jobs</span> {
    <span style="color:#a6e22e">hashKey</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">generateKey</span>(<span style="color:#a6e22e">sauceKey</span>, <span style="color:#a6e22e">userName</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">ID</span>)
    <span style="color:#a6e22e">scriptString</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(
        <span style="color:#e6db74">`&lt;tr&gt;
</span><span style="color:#e6db74">        &lt;td class=&#34;align-middle&#34;&gt;
</span><span style="color:#e6db74">            %s
</span><span style="color:#e6db74">        &lt;/td&gt;
</span><span style="color:#e6db74">        &lt;td class=&#34;align-middle&#34;&gt;
</span><span style="color:#e6db74">            &lt;div class=&#34;d-flex align-items-center justify-content-center&#34;&gt;
</span><span style="color:#e6db74">                &lt;script
</span><span style="color:#e6db74">                    src=&#34;https://app.saucelabs.com/job-embed/%s.js?auth=%s&#34;&gt;
</span><span style="color:#e6db74">                    &lt;/script&gt;
</span><span style="color:#e6db74">            &lt;/div&gt;
</span><span style="color:#e6db74">        &lt;/td&gt;
</span><span style="color:#e6db74">    &lt;/tr&gt;`</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">BaseConfig</span>.<span style="color:#a6e22e">SauceOptions</span>.<span style="color:#a6e22e">Name</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">ID</span>, <span style="color:#a6e22e">hashKey</span>)

    <span style="color:#a6e22e">htmlTemplate</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">scriptString</span>
}
</code></pre></div><p>We are iterating through all of jobs within our slice and doing the following:</p>
<ul>
<li>Generating an unique authentication token</li>
<li>Creating the appropriate script string within an html table row, and injecting our job name, id, and auth token into the script tag using Go&rsquo;s string formatter <code>fmt.Sprintf</code></li>
<li>Appending the table row string into our multi-line string template</li>
</ul>
<p>One thing I&rsquo;d like to highlight is the <code>generateKey</code> function, which is one I defined and looks as followed:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">generateKey</span>(<span style="color:#a6e22e">sauceKey</span>, <span style="color:#a6e22e">userName</span>, <span style="color:#a6e22e">message</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span> {
	<span style="color:#a6e22e">key</span> <span style="color:#f92672">:=</span> []byte(<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s:%s&#34;</span>, <span style="color:#a6e22e">userName</span>, <span style="color:#a6e22e">sauceKey</span>))
	<span style="color:#a6e22e">mac</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">hmac</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">md5</span>.<span style="color:#a6e22e">New</span>, <span style="color:#a6e22e">key</span>)
	<span style="color:#a6e22e">mac</span>.<span style="color:#a6e22e">Write</span>([]byte(<span style="color:#a6e22e">message</span>))
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">hex</span>.<span style="color:#a6e22e">EncodeToString</span>(<span style="color:#a6e22e">mac</span>.<span style="color:#a6e22e">Sum</span>(<span style="color:#66d9ef">nil</span>))
}
</code></pre></div><p>Here I am following the <a href="https://wiki.saucelabs.com/display/DOCS/Building+Sharable+Links+to+Test+Results">advice</a> given by the Saucelabs team to generate an md5 auth token to our particular test case.</p>
<p>Once we complete iterating through our IDs and building out our table rows, we then do the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">htmlTemplate</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">	&lt;/tr&gt;
</span><span style="color:#e6db74">    &lt;/table&gt;
</span><span style="color:#e6db74">&lt;/body&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;/html&gt;
</span><span style="color:#e6db74">`</span>

<span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Create</span>(<span style="color:#e6db74">&#34;index.html&#34;</span>)

<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">f</span>.<span style="color:#a6e22e">Close</span>()
    <span style="color:#a6e22e">f</span>.<span style="color:#a6e22e">Write</span>([]byte(<span style="color:#a6e22e">htmlTemplate</span>))
}
</code></pre></div><p>Here, we are:</p>
<ul>
<li>Closing out our table tag, as well as our body/html tag</li>
<li>Using Go&rsquo;s os package to create an index.html file</li>
<li>Writing that multi-line html string as a byte array, into our newly created file.</li>
</ul>
<p>More or less, that&rsquo;s how the Go code looks like, and here is all of the code strung together as a finished product:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;crypto/hmac&#34;</span>
	<span style="color:#e6db74">&#34;crypto/md5&#34;</span>
	<span style="color:#e6db74">&#34;encoding/hex&#34;</span>
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;os&#34;</span>

	<span style="color:#e6db74">&#34;github.com/ssulei7/saucelabs-client-go/sauce&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">generateHtml</span>(<span style="color:#a6e22e">sauceKey</span>, <span style="color:#a6e22e">userName</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">jobs</span> <span style="color:#f92672">*</span>[]<span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">Job</span>) {
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">htmlTemplate</span> = <span style="color:#e6db74">`
</span><span style="color:#e6db74">&lt;!DOCTYPE html&gt;
</span><span style="color:#e6db74">&lt;html lang=&#34;en&#34;&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;head&gt;
</span><span style="color:#e6db74">    &lt;meta charset=&#34;UTF-8&#34;&gt;
</span><span style="color:#e6db74">    &lt;meta http-equiv=&#34;X-UA-Compatible&#34; content=&#34;IE=edge&#34;&gt;
</span><span style="color:#e6db74">    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;
</span><span style="color:#e6db74">    &lt;meta charset=&#34;UTF-8&#34;&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    &lt;link href=&#34;https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css&#34; rel=&#34;stylesheet&#34;
</span><span style="color:#e6db74">        integrity=&#34;sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl&#34; crossorigin=&#34;anonymous&#34;&gt;
</span><span style="color:#e6db74">    &lt;title&gt;BuildResults&lt;/title&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;/head&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;body&gt;
</span><span style="color:#e6db74">    &lt;table class=&#34;table table-light table-striped&#34;&gt;
</span><span style="color:#e6db74">        &lt;tr&gt;
</span><span style="color:#e6db74">            &lt;th&gt;Test Case&lt;/th&gt;
</span><span style="color:#e6db74">            &lt;th&gt;Test Case Video&lt;/th&gt;
</span><span style="color:#e6db74">        &lt;/tr&gt;
</span><span style="color:#e6db74">`</span>

<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">job</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">jobs</span> {
    <span style="color:#a6e22e">hashKey</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">generateKey</span>(<span style="color:#a6e22e">sauceKey</span>, <span style="color:#a6e22e">userName</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">ID</span>)
    <span style="color:#a6e22e">scriptString</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(
        <span style="color:#e6db74">`&lt;tr&gt;
</span><span style="color:#e6db74">        &lt;td class=&#34;align-middle&#34;&gt;
</span><span style="color:#e6db74">            %s
</span><span style="color:#e6db74">        &lt;/td&gt;
</span><span style="color:#e6db74">        &lt;td class=&#34;align-middle&#34;&gt;
</span><span style="color:#e6db74">            &lt;div class=&#34;d-flex align-items-center justify-content-center&#34;&gt;
</span><span style="color:#e6db74">                &lt;script
</span><span style="color:#e6db74">                    src=&#34;https://app.saucelabs.com/job-embed/%s.js?auth=%s&#34;&gt;
</span><span style="color:#e6db74">                    &lt;/script&gt;
</span><span style="color:#e6db74">            &lt;/div&gt;
</span><span style="color:#e6db74">        &lt;/td&gt;
</span><span style="color:#e6db74">    &lt;/tr&gt;`</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">BaseConfig</span>.<span style="color:#a6e22e">SauceOptions</span>.<span style="color:#a6e22e">Name</span>, <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">ID</span>, <span style="color:#a6e22e">hashKey</span>)

    <span style="color:#a6e22e">htmlTemplate</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">scriptString</span>
}

<span style="color:#a6e22e">htmlTemplate</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">&lt;/tr&gt;
</span><span style="color:#e6db74">&lt;/table&gt;
</span><span style="color:#e6db74">&lt;/body&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;/html&gt;
</span><span style="color:#e6db74">`</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">generateKey</span>(<span style="color:#a6e22e">sauceKey</span>, <span style="color:#a6e22e">userName</span>, <span style="color:#a6e22e">message</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span> {
	<span style="color:#a6e22e">key</span> <span style="color:#f92672">:=</span> []byte(<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s:%s&#34;</span>, <span style="color:#a6e22e">userName</span>, <span style="color:#a6e22e">sauceKey</span>))
	<span style="color:#a6e22e">mac</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">hmac</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">md5</span>.<span style="color:#a6e22e">New</span>, <span style="color:#a6e22e">key</span>)
	<span style="color:#a6e22e">mac</span>.<span style="color:#a6e22e">Write</span>([]byte(<span style="color:#a6e22e">message</span>))
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">hex</span>.<span style="color:#a6e22e">EncodeToString</span>(<span style="color:#a6e22e">mac</span>.<span style="color:#a6e22e">Sum</span>(<span style="color:#66d9ef">nil</span>))
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {

	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">NewClient</span>(<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_USER&#34;</span>), <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_KEY&#34;</span>), <span style="color:#e6db74">&#34;&#34;</span>)
    <span style="color:#a6e22e">builds</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">GetBuilds</span>()
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">build</span> <span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">Build</span>
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
        <span style="color:#75715e">//filter and find the build containing the build name i had within my 
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">builds</span> {
            <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">Name</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;MY_BUILD&#34;</span>) {
                <span style="color:#a6e22e">build</span> = <span style="color:#a6e22e">b</span>
                <span style="color:#66d9ef">break</span>
            }
        }
    }

    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">build</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
        <span style="color:#75715e">//our build doesn&#39;t exist within our script, terminate execution
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Exit</span>(<span style="color:#ae81ff">1</span>)
    }

    <span style="color:#a6e22e">jobs</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">GetJobs</span>()

    <span style="color:#75715e">//where we will store all filtered jobs
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">myJobs</span> []<span style="color:#a6e22e">sauce</span>.<span style="color:#a6e22e">Job</span>

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">job</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">myJobs</span> {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">buildName</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">job</span>.<span style="color:#a6e22e">BaseConfig</span>.<span style="color:#a6e22e">SauceOptions</span>.<span style="color:#a6e22e">Build</span> {
			<span style="color:#a6e22e">myJobs</span> = append(<span style="color:#a6e22e">myJobs</span>, <span style="color:#a6e22e">job</span>)
		}
	}

	<span style="color:#a6e22e">generateHtml</span>(<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_USER&#34;</span>), <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">getEnv</span>(<span style="color:#e6db74">&#34;SAUCE_KEY&#34;</span>), <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">myJobs</span>)
}
</code></pre></div><p>We can the build our Go application by running</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">go build .
</code></pre></div><p>And copy over the appropriate executable into the repo containing our tests.</p>
<h2 id="executing-the-html-generator-within-azure-pipelines">Executing the HTML Generator within Azure Pipelines</h2>
<p>Now, within our YML pipeline file, we can now add the following tasks:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># run my tests</span>
- <span style="color:#f92672">task</span>: <span style="color:#ae81ff">Gradle@2</span>
  <span style="color:#f92672">inputs</span>:
    <span style="color:#f92672">workingDirectory</span>: <span style="color:#e6db74">&#39;&#39;</span>
    <span style="color:#f92672">gradleWrapperFile</span>: <span style="color:#e6db74">&#39;gradlew&#39;</span>
    <span style="color:#f92672">gradleOptions</span>: <span style="color:#e6db74">&#39;-Xmx3072m -Dgeb.env=sauceLabs -Dgeb.build.baseUrl=http://www.google.com -Dtest.set=Smoke&#39;</span>
    <span style="color:#f92672">javaHomeOption</span>: <span style="color:#e6db74">&#39;JDKVersion&#39;</span>
    <span style="color:#f92672">jdkVersionOption</span>: <span style="color:#e6db74">&#39;1.8&#39;</span>
    <span style="color:#f92672">jdkArchitectureOption</span>: <span style="color:#e6db74">&#39;x64&#39;</span>
    <span style="color:#f92672">publishJUnitResults</span>: <span style="color:#66d9ef">true</span>
    <span style="color:#f92672">testResultsFiles</span>: <span style="color:#e6db74">&#39;build/test-results/**/*.xml&#39;</span>
    <span style="color:#f92672">tasks</span>: <span style="color:#e6db74">&#39;test&#39;</span>

<span style="color:#75715e"># run report generator</span>
- <span style="color:#f92672">task</span>: <span style="color:#ae81ff">CmdLine@2</span>
  <span style="color:#f92672">displayName</span>: <span style="color:#ae81ff">Run Report Generator</span>
  <span style="color:#f92672">inputs</span>:
    <span style="color:#f92672">script</span>: <span style="color:#e6db74">&#39;./path-to-binary/mybinary.exe&#39;</span>

<span style="color:#75715e"># publish html report file</span>
- <span style="color:#f92672">task</span>: <span style="color:#ae81ff">PublishHtmlReport@1</span>
  <span style="color:#f92672">inputs</span>:
    <span style="color:#f92672">tabName</span>: <span style="color:#e6db74">&#39;Test Result Videos&#39;</span>
    <span style="color:#f92672">reportDir</span>: <span style="color:#e6db74">&#39;./path-to-report-file/index.html&#39;</span>
</code></pre></div><p>Where the cmdline task will run our executable (exe, etc dependent on OS we targeted in our <code>go build .</code>) and the <code>PublishHtmlReport</code> task will publish the html file our executable generated. Which in turn, will leave you with a result like this:</p>
<p><img src="./images/saucetable.jpg" alt="Sauce Table"></p>
<h2 id="conclusion-and-retrospective">Conclusion and Retrospective</h2>
<p>Overall, the fact that Saucelabs allows for us to create our own HTML reports is pretty sweet, where we don&rsquo;t need to rely on an extension for maintenance. The same method I utilized here can also technically be used in any CI platform of your choice where you can publish html reports. One thing that I am looking towards possibly improving in my quick and dirty CLI application is improving the overall HTML generation by using <a href="https://golang.org/pkg/html/template/">Go&rsquo;s HTML templating packages</a>. This will allow me to build my future templates moving forward in a more data driven way.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://ssulei7.github.io/tags/saucelabs/">saucelabs</a></span>
        <span class="tag"><a href="https://ssulei7.github.io/tags/azure-pipelines/">azure pipelines</a></span>
        <span class="tag"><a href="https://ssulei7.github.io/tags/cicd/">cicd</a></span>
        <span class="tag"><a href="https://ssulei7.github.io/tags/qa-automation/">qa automation</a></span>
        <span class="tag"><a href="https://ssulei7.github.io/tags/azure-devops/">azure devops</a></span>
        <span class="tag"><a href="https://ssulei7.github.io/tags/azure/">azure</a></span>
        <span class="tag"><a href="https://ssulei7.github.io/tags/microsoft/">microsoft</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        1939 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-04-06 18:16
        

         
          
        
      </p>
    </div>
      <hr />
      <div class="sharing-buttons">
        
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f" target="_blank" rel="noopener" aria-label="" title="Share on facebook">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f" target="_blank" rel="noopener" aria-label="" title="Share on twitter">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
      <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines&amp;caption=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines&amp;canonicalUrl=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f" target="_blank" rel="noopener" aria-label="" title="Share on tumblr">
  <div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small">
    <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093 0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941 0 9.999 0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="mailto:?subject=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines&amp;body=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f" target="_self" rel="noopener" aria-label="" title="Share via email">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f&amp;media=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f;description=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines" target="_blank" rel="noopener" aria-label="" title="Share on pinterest">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f&amp;title=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines&amp;summary=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines&amp;source=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f" target="_blank" rel="noopener" aria-label="" title="Share on linkedin">
  <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f&amp;resubmit=true&amp;title=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines" target="_blank" rel="noopener" aria-label="" title="Share on reddit">
  <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;url=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f;title=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines" target="_blank" rel="noopener" aria-label="" title="Share on xing">
  <div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="whatsapp://send?text=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines%20https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f" target="_blank" rel="noopener" aria-label="" title="Share on whatsapp">
  <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f&amp;t=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines" target="_blank" rel="noopener" aria-label="" title="Share on hacker news">
  <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=How%20I%20embed%20Saucelab%20Build%20Videos%20into%20Azure%20Pipelines&amp;url=https%3a%2f%2fssulei7.github.io%2fposts%2f04-06-2021-saucelabs-azure-pipelines%2f" target="_blank" rel="noopener" aria-label="" title="Share on telegram">
  <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</a>

      </div>

    
    <div class="pagination">
        <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
        </div>

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://ssulei7.github.io/posts/05-15-2021-qa-automation-fails/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Why most QA Automation fails</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://ssulei7.github.io/posts/04-05-2021-welcome-to-my-blog/">
                    <span class="button__text">Welcome to my Blog</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js" integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>



    </body>
</html>
